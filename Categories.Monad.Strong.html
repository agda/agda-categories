<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Categories.Monad.Strong</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Comment">-- Define Strong Monad; use the Wikipedia definition</a>
<a id="90" class="Comment">-- https://en.wikipedia.org/wiki/Strong_monad</a>
<a id="136" class="Comment">-- At the nLab, https://ncatlab.org/nlab/show/strong+monad</a>
<a id="195" class="Comment">-- there are two further definitions; the 2-categorical version is too complicated</a>
<a id="278" class="Comment">-- and the Moggi definition is a special case of the one here</a>

<a id="341" class="Keyword">module</a> <a id="348" href="Categories.Monad.Strong.html" class="Module">Categories.Monad.Strong</a>  <a id="373" class="Keyword">where</a>

<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Level.html" class="Module">Level</a>
<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="Data.Product.html" class="Module">Data.Product</a> <a id="423" class="Keyword">using</a> <a id="429" class="Symbol">(</a><a id="430" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="433" class="Symbol">)</a>

<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="Categories.Category.html" class="Module">Categories.Category</a>
<a id="468" class="Keyword">open</a> <a id="473" class="Keyword">import</a> <a id="480" href="Categories.Functor.html" class="Module">Categories.Functor</a> <a id="499" class="Keyword">renaming</a> <a id="508" class="Symbol">(</a><a id="509" href="Categories.Functor.html#349" class="Function">id</a> <a id="512" class="Symbol">to</a> <a id="515" class="Function">idF</a><a id="518" class="Symbol">)</a>
<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Categories.Category.Monoidal.html" class="Module">Categories.Category.Monoidal</a>
<a id="561" class="Keyword">open</a> <a id="566" class="Keyword">import</a> <a id="573" href="Categories.Category.Product.html" class="Module">Categories.Category.Product</a>
<a id="601" class="Keyword">open</a> <a id="606" class="Keyword">import</a> <a id="613" href="Categories.NaturalTransformation.html" class="Module">Categories.NaturalTransformation</a> <a id="646" class="Keyword">hiding</a> <a id="653" class="Symbol">(</a><a id="654" href="Categories.NaturalTransformation.Core.html#2132" class="Function">id</a><a id="656" class="Symbol">)</a>
<a id="658" class="Keyword">open</a> <a id="663" class="Keyword">import</a> <a id="670" href="Categories.Monad.html" class="Module">Categories.Monad</a>

<a id="688" class="Keyword">private</a>
  <a id="698" class="Keyword">variable</a>
    <a id="711" href="Categories.Monad.Strong.html#711" class="Generalizable">o</a> <a id="713" href="Categories.Monad.Strong.html#713" class="Generalizable">ℓ</a> <a id="715" href="Categories.Monad.Strong.html#715" class="Generalizable">e</a> <a id="717" class="Symbol">:</a> <a id="719" href="Agda.Primitive.html#597" class="Postulate">Level</a>

<a id="726" class="Keyword">record</a> <a id="Strength"></a><a id="733" href="Categories.Monad.Strong.html#733" class="Record">Strength</a> <a id="742" class="Symbol">{</a><a id="743" href="Categories.Monad.Strong.html#743" class="Bound">C</a> <a id="745" class="Symbol">:</a> <a id="747" href="Categories.Category.Core.html#442" class="Record">Category</a> <a id="756" href="Categories.Monad.Strong.html#711" class="Generalizable">o</a> <a id="758" href="Categories.Monad.Strong.html#713" class="Generalizable">ℓ</a> <a id="760" href="Categories.Monad.Strong.html#715" class="Generalizable">e</a><a id="761" class="Symbol">}</a> <a id="763" class="Symbol">(</a><a id="764" href="Categories.Monad.Strong.html#764" class="Bound">V</a> <a id="766" class="Symbol">:</a> <a id="768" href="Categories.Category.Monoidal.Core.html#1287" class="Record">Monoidal</a> <a id="777" href="Categories.Monad.Strong.html#743" class="Bound">C</a><a id="778" class="Symbol">)</a> <a id="780" class="Symbol">(</a><a id="781" href="Categories.Monad.Strong.html#781" class="Bound">M</a> <a id="783" class="Symbol">:</a> <a id="785" href="Categories.Monad.html#454" class="Record">Monad</a> <a id="791" href="Categories.Monad.Strong.html#743" class="Bound">C</a><a id="792" class="Symbol">)</a> <a id="794" class="Symbol">:</a> <a id="796" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="800" class="Symbol">(</a><a id="801" href="Categories.Monad.Strong.html#756" class="Bound">o</a> <a id="803" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="805" href="Categories.Monad.Strong.html#758" class="Bound">ℓ</a> <a id="807" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="809" href="Categories.Monad.Strong.html#760" class="Bound">e</a><a id="810" class="Symbol">)</a> <a id="812" class="Keyword">where</a>
  <a id="820" class="Keyword">open</a> <a id="825" href="Categories.Category.Core.html#442" class="Module">Category</a> <a id="834" href="Categories.Monad.Strong.html#743" class="Bound">C</a>
  <a id="838" class="Keyword">open</a> <a id="843" href="Categories.Category.Monoidal.Core.html#1287" class="Module">Monoidal</a> <a id="852" href="Categories.Monad.Strong.html#764" class="Bound">V</a>
  <a id="856" class="Keyword">private</a>
    <a id="868" class="Keyword">module</a> <a id="Strength.M"></a><a id="875" href="Categories.Monad.Strong.html#875" class="Module">M</a> <a id="877" class="Symbol">=</a> <a id="879" href="Categories.Monad.html#454" class="Module">Monad</a> <a id="885" href="Categories.Monad.Strong.html#781" class="Bound">M</a>
  <a id="889" class="Keyword">open</a> <a id="894" href="Categories.Monad.Strong.html#875" class="Module">M</a> <a id="896" class="Keyword">using</a> <a id="902" class="Symbol">(</a><a id="903" href="Categories.Monad.html#525" class="Function">F</a><a id="904" class="Symbol">)</a>
  <a id="908" class="Keyword">open</a> <a id="913" href="Categories.NaturalTransformation.Core.html#466" class="Module">NaturalTransformation</a> <a id="935" href="Categories.Monad.html#547" class="Function">M.η</a> <a id="939" class="Keyword">using</a> <a id="945" class="Symbol">(</a><a id="946" href="Categories.NaturalTransformation.Core.html#783" class="Field">η</a><a id="947" class="Symbol">)</a>
  <a id="951" class="Keyword">open</a> <a id="956" href="Categories.NaturalTransformation.Core.html#466" class="Module">NaturalTransformation</a> <a id="978" href="Categories.Monad.html#583" class="Function">M.μ</a> <a id="982" class="Keyword">renaming</a> <a id="991" class="Symbol">(</a><a id="992" href="Categories.NaturalTransformation.Core.html#783" class="Field">η</a> <a id="994" class="Symbol">to</a> <a id="997" class="Field">μ</a><a id="998" class="Symbol">)</a>
  <a id="1002" class="Keyword">open</a> <a id="1007" href="Categories.Functor.Core.html#248" class="Module">Functor</a> <a id="1015" href="Categories.Monad.html#525" class="Function">F</a>
  <a id="1019" class="Keyword">field</a>
    <a id="Strength.strengthen"></a><a id="1029" href="Categories.Monad.Strong.html#1029" class="Field">strengthen</a> <a id="1040" class="Symbol">:</a> <a id="1042" href="Categories.NaturalTransformation.Core.html#466" class="Record">NaturalTransformation</a> <a id="1064" class="Symbol">(</a><a id="1065" href="Categories.Category.Monoidal.Core.html#1355" class="Function">⊗</a> <a id="1067" href="Categories.Functor.html#747" class="Function Operator">∘F</a> <a id="1070" class="Symbol">(</a><a id="1071" href="Categories.Monad.Strong.html#515" class="Function">idF</a> <a id="1075" href="Categories.Category.Product.html#1962" class="Function Operator">⁂</a> <a id="1077" href="Categories.Monad.html#525" class="Function">F</a><a id="1078" class="Symbol">))</a> <a id="1081" class="Symbol">(</a><a id="1082" href="Categories.Monad.html#525" class="Function">F</a> <a id="1084" href="Categories.Functor.html#747" class="Function Operator">∘F</a> <a id="1087" href="Categories.Category.Monoidal.Core.html#1355" class="Function">⊗</a><a id="1088" class="Symbol">)</a>

  <a id="1093" class="Keyword">module</a> <a id="Strength.strengthen"></a><a id="1100" href="Categories.Monad.Strong.html#1100" class="Module">strengthen</a> <a id="1111" class="Symbol">=</a> <a id="1113" href="Categories.NaturalTransformation.Core.html#466" class="Module">NaturalTransformation</a> <a id="1135" href="Categories.Monad.Strong.html#1029" class="Field">strengthen</a>
  <a id="1148" class="Keyword">private</a>
    <a id="1160" class="Keyword">module</a> <a id="Strength.t"></a><a id="1167" href="Categories.Monad.Strong.html#1167" class="Module">t</a> <a id="1169" class="Symbol">=</a> <a id="1171" href="Categories.Monad.Strong.html#1100" class="Module">strengthen</a>

  <a id="1185" class="Keyword">field</a>
    <a id="1195" class="Comment">-- strengthening with 1 is irrelevant</a>
    <a id="Strength.identityˡ"></a><a id="1237" href="Categories.Monad.Strong.html#1237" class="Field">identityˡ</a> <a id="1247" class="Symbol">:</a> <a id="1249" class="Symbol">{</a><a id="1250" href="Categories.Monad.Strong.html#1250" class="Bound">A</a> <a id="1252" class="Symbol">:</a> <a id="1254" href="Categories.Category.Core.html#559" class="Function">Obj</a><a id="1257" class="Symbol">}</a> <a id="1259" class="Symbol">→</a> <a id="1261" href="Categories.Functor.Core.html#455" class="Function">F₁</a> <a id="1264" class="Symbol">(</a><a id="1265" href="Categories.Morphism.html#1988" class="Function">unitorˡ.from</a><a id="1277" class="Symbol">)</a> <a id="1279" href="Categories.Category.Core.html#656" class="Function Operator">∘</a> <a id="1281" href="Categories.NaturalTransformation.Core.html#783" class="Function">t.η</a> <a id="1285" class="Symbol">(</a><a id="1286" href="Categories.Category.Monoidal.Core.html#1380" class="Function">unit</a> <a id="1291" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1293" href="Categories.Monad.Strong.html#1250" class="Bound">A</a><a id="1294" class="Symbol">)</a> <a id="1296" href="Categories.Category.Core.html#595" class="Function Operator">≈</a> <a id="1298" href="Categories.Morphism.html#1988" class="Function">unitorˡ.from</a>
    <a id="1315" class="Comment">-- commutes with unit (of monad)</a>
    <a id="Strength.η-comm"></a><a id="1352" href="Categories.Monad.Strong.html#1352" class="Field">η-comm</a> <a id="1359" class="Symbol">:</a> <a id="1361" class="Symbol">{</a><a id="1362" href="Categories.Monad.Strong.html#1362" class="Bound">A</a> <a id="1364" href="Categories.Monad.Strong.html#1364" class="Bound">B</a> <a id="1366" class="Symbol">:</a> <a id="1368" href="Categories.Category.Core.html#559" class="Function">Obj</a><a id="1371" class="Symbol">}</a> <a id="1373" class="Symbol">→</a> <a id="1375" href="Categories.NaturalTransformation.Core.html#783" class="Function">t.η</a> <a id="1379" class="Symbol">(</a><a id="1380" href="Categories.Monad.Strong.html#1362" class="Bound">A</a> <a id="1382" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1384" href="Categories.Monad.Strong.html#1364" class="Bound">B</a><a id="1385" class="Symbol">)</a> <a id="1387" href="Categories.Category.Core.html#656" class="Function Operator">∘</a> <a id="1389" class="Symbol">(</a><a id="1390" href="Categories.Category.Core.html#630" class="Function">id</a> <a id="1393" href="Categories.Category.Monoidal.Core.html#1536" class="Function Operator">⊗₁</a> <a id="1396" href="Categories.NaturalTransformation.Core.html#783" class="Function">η</a> <a id="1398" href="Categories.Monad.Strong.html#1364" class="Bound">B</a><a id="1399" class="Symbol">)</a> <a id="1401" href="Categories.Category.Core.html#595" class="Function Operator">≈</a>  <a id="1404" href="Categories.NaturalTransformation.Core.html#783" class="Function">η</a> <a id="1406" class="Symbol">(</a><a id="1407" href="Categories.Monad.Strong.html#1362" class="Bound">A</a> <a id="1409" href="Categories.Category.Monoidal.Core.html#1435" class="Function Operator">⊗₀</a> <a id="1412" href="Categories.Monad.Strong.html#1364" class="Bound">B</a><a id="1413" class="Symbol">)</a>
    <a id="1419" class="Comment">-- strength commutes with multiplication</a>
    <a id="Strength.μ-η-comm"></a><a id="1464" href="Categories.Monad.Strong.html#1464" class="Field">μ-η-comm</a> <a id="1473" class="Symbol">:</a> <a id="1475" class="Symbol">{</a><a id="1476" href="Categories.Monad.Strong.html#1476" class="Bound">A</a> <a id="1478" href="Categories.Monad.Strong.html#1478" class="Bound">B</a> <a id="1480" class="Symbol">:</a> <a id="1482" href="Categories.Category.Core.html#559" class="Function">Obj</a><a id="1485" class="Symbol">}</a> <a id="1487" class="Symbol">→</a> <a id="1489" href="Categories.Monad.Strong.html#997" class="Function">μ</a> <a id="1491" class="Symbol">(</a><a id="1492" href="Categories.Monad.Strong.html#1476" class="Bound">A</a> <a id="1494" href="Categories.Category.Monoidal.Core.html#1435" class="Function Operator">⊗₀</a> <a id="1497" href="Categories.Monad.Strong.html#1478" class="Bound">B</a><a id="1498" class="Symbol">)</a> <a id="1500" href="Categories.Category.Core.html#656" class="Function Operator">∘</a> <a id="1502" href="Categories.Functor.Core.html#455" class="Function">F₁</a> <a id="1505" class="Symbol">(</a><a id="1506" href="Categories.NaturalTransformation.Core.html#783" class="Function">t.η</a> <a id="1510" class="Symbol">(</a><a id="1511" href="Categories.Monad.Strong.html#1476" class="Bound">A</a> <a id="1513" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1515" href="Categories.Monad.Strong.html#1478" class="Bound">B</a><a id="1516" class="Symbol">))</a> <a id="1519" href="Categories.Category.Core.html#656" class="Function Operator">∘</a> <a id="1521" href="Categories.NaturalTransformation.Core.html#783" class="Function">t.η</a> <a id="1525" class="Symbol">(</a><a id="1526" href="Categories.Monad.Strong.html#1476" class="Bound">A</a> <a id="1528" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1530" href="Categories.Functor.Core.html#432" class="Function">F₀</a> <a id="1533" href="Categories.Monad.Strong.html#1478" class="Bound">B</a><a id="1534" class="Symbol">)</a>
      <a id="1542" href="Categories.Category.Core.html#595" class="Function Operator">≈</a> <a id="1544" href="Categories.NaturalTransformation.Core.html#783" class="Function">t.η</a> <a id="1548" class="Symbol">(</a><a id="1549" href="Categories.Monad.Strong.html#1476" class="Bound">A</a> <a id="1551" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1553" href="Categories.Monad.Strong.html#1478" class="Bound">B</a><a id="1554" class="Symbol">)</a> <a id="1556" href="Categories.Category.Core.html#656" class="Function Operator">∘</a> <a id="1558" href="Categories.Category.Core.html#630" class="Function">id</a> <a id="1561" href="Categories.Category.Monoidal.Core.html#1536" class="Function Operator">⊗₁</a> <a id="1564" href="Categories.Monad.Strong.html#997" class="Function">μ</a> <a id="1566" href="Categories.Monad.Strong.html#1478" class="Bound">B</a>
    <a id="1572" class="Comment">-- consecutive applications of strength commute (i.e. strength is associative)</a>
    <a id="Strength.strength-assoc"></a><a id="1655" href="Categories.Monad.Strong.html#1655" class="Field">strength-assoc</a> <a id="1670" class="Symbol">:</a>  <a id="1673" class="Symbol">{</a><a id="1674" href="Categories.Monad.Strong.html#1674" class="Bound">A</a> <a id="1676" href="Categories.Monad.Strong.html#1676" class="Bound">B</a> <a id="1678" href="Categories.Monad.Strong.html#1678" class="Bound">C</a> <a id="1680" class="Symbol">:</a> <a id="1682" href="Categories.Category.Core.html#559" class="Function">Obj</a><a id="1685" class="Symbol">}</a> <a id="1687" class="Symbol">→</a> <a id="1689" href="Categories.Functor.Core.html#455" class="Function">F₁</a> <a id="1692" href="Categories.Morphism.html#1988" class="Function">associator.from</a> <a id="1708" href="Categories.Category.Core.html#656" class="Function Operator">∘</a> <a id="1710" href="Categories.NaturalTransformation.Core.html#783" class="Function">t.η</a> <a id="1714" class="Symbol">(</a><a id="1715" href="Categories.Monad.Strong.html#1674" class="Bound">A</a> <a id="1717" href="Categories.Category.Monoidal.Core.html#1435" class="Function Operator">⊗₀</a> <a id="1720" href="Categories.Monad.Strong.html#1676" class="Bound">B</a> <a id="1722" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1724" href="Categories.Monad.Strong.html#1678" class="Bound">C</a><a id="1725" class="Symbol">)</a>
      <a id="1733" href="Categories.Category.Core.html#595" class="Function Operator">≈</a> <a id="1735" href="Categories.NaturalTransformation.Core.html#783" class="Function">t.η</a> <a id="1739" class="Symbol">(</a><a id="1740" href="Categories.Monad.Strong.html#1674" class="Bound">A</a> <a id="1742" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1744" href="Categories.Monad.Strong.html#1676" class="Bound">B</a> <a id="1746" href="Categories.Category.Monoidal.Core.html#1435" class="Function Operator">⊗₀</a> <a id="1749" href="Categories.Monad.Strong.html#1678" class="Bound">C</a><a id="1750" class="Symbol">)</a> <a id="1752" href="Categories.Category.Core.html#656" class="Function Operator">∘</a> <a id="1754" href="Categories.Category.Core.html#630" class="Function">id</a> <a id="1757" href="Categories.Category.Monoidal.Core.html#1536" class="Function Operator">⊗₁</a> <a id="1760" href="Categories.NaturalTransformation.Core.html#783" class="Function">t.η</a> <a id="1764" class="Symbol">(</a><a id="1765" href="Categories.Monad.Strong.html#1676" class="Bound">B</a> <a id="1767" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1769" href="Categories.Monad.Strong.html#1678" class="Bound">C</a><a id="1770" class="Symbol">)</a> <a id="1772" href="Categories.Category.Core.html#656" class="Function Operator">∘</a> <a id="1774" href="Categories.Morphism.html#1988" class="Function">associator.from</a>

<a id="1791" class="Keyword">record</a> <a id="StrongMonad"></a><a id="1798" href="Categories.Monad.Strong.html#1798" class="Record">StrongMonad</a> <a id="1810" class="Symbol">{</a><a id="1811" href="Categories.Monad.Strong.html#1811" class="Bound">C</a> <a id="1813" class="Symbol">:</a> <a id="1815" href="Categories.Category.Core.html#442" class="Record">Category</a> <a id="1824" href="Categories.Monad.Strong.html#711" class="Generalizable">o</a> <a id="1826" href="Categories.Monad.Strong.html#713" class="Generalizable">ℓ</a> <a id="1828" href="Categories.Monad.Strong.html#715" class="Generalizable">e</a><a id="1829" class="Symbol">}</a> <a id="1831" class="Symbol">(</a><a id="1832" href="Categories.Monad.Strong.html#1832" class="Bound">V</a> <a id="1834" class="Symbol">:</a> <a id="1836" href="Categories.Category.Monoidal.Core.html#1287" class="Record">Monoidal</a> <a id="1845" href="Categories.Monad.Strong.html#1811" class="Bound">C</a><a id="1846" class="Symbol">)</a> <a id="1848" class="Symbol">:</a> <a id="1850" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1854" class="Symbol">(</a><a id="1855" href="Categories.Monad.Strong.html#1824" class="Bound">o</a> <a id="1857" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1859" href="Categories.Monad.Strong.html#1826" class="Bound">ℓ</a> <a id="1861" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="1863" href="Categories.Monad.Strong.html#1828" class="Bound">e</a><a id="1864" class="Symbol">)</a> <a id="1866" class="Keyword">where</a>
  <a id="1874" class="Keyword">field</a>
    <a id="StrongMonad.M"></a><a id="1884" href="Categories.Monad.Strong.html#1884" class="Field">M</a>        <a id="1893" class="Symbol">:</a> <a id="1895" href="Categories.Monad.html#454" class="Record">Monad</a> <a id="1901" href="Categories.Monad.Strong.html#1811" class="Bound">C</a>
    <a id="StrongMonad.strength"></a><a id="1907" href="Categories.Monad.Strong.html#1907" class="Field">strength</a> <a id="1916" class="Symbol">:</a> <a id="1918" href="Categories.Monad.Strong.html#733" class="Record">Strength</a> <a id="1927" href="Categories.Monad.Strong.html#1832" class="Bound">V</a> <a id="1929" href="Categories.Monad.Strong.html#1884" class="Field">M</a>

  <a id="1934" class="Keyword">module</a> <a id="StrongMonad.M"></a><a id="1941" href="Categories.Monad.Strong.html#1941" class="Module">M</a> <a id="1943" class="Symbol">=</a> <a id="1945" href="Categories.Monad.html#454" class="Module">Monad</a> <a id="1951" href="Categories.Monad.Strong.html#1884" class="Field">M</a>
  <a id="1955" class="Keyword">open</a> <a id="1960" href="Categories.Monad.Strong.html#733" class="Module">Strength</a> <a id="1969" href="Categories.Monad.Strong.html#1907" class="Field">strength</a> <a id="1978" class="Keyword">public</a>
</pre></body></html>