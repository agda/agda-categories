<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Categories.Functor.Fibration</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Categories.Category.html" class="Module">Categories.Category</a>
<a id="69" class="Keyword">open</a> <a id="74" class="Keyword">import</a> <a id="81" href="Categories.Functor.html" class="Module">Categories.Functor</a>

<a id="101" class="Comment">-- Cartesian fibration, also known as Grothendieck Fibration, see</a>
<a id="167" class="Comment">-- https://ncatlab.org/nlab/show/Grothendieck+fibration</a>
<a id="223" class="Keyword">module</a> <a id="230" href="Categories.Functor.Fibration.html" class="Module">Categories.Functor.Fibration</a> <a id="259" class="Symbol">{</a><a id="260" href="Categories.Functor.Fibration.html#260" class="Bound">o</a> <a id="262" href="Categories.Functor.Fibration.html#262" class="Bound">ℓ</a> <a id="264" href="Categories.Functor.Fibration.html#264" class="Bound">e</a> <a id="266" href="Categories.Functor.Fibration.html#266" class="Bound">o′</a> <a id="269" href="Categories.Functor.Fibration.html#269" class="Bound">ℓ′</a> <a id="272" href="Categories.Functor.Fibration.html#272" class="Bound">e′</a><a id="274" class="Symbol">}</a> <a id="276" class="Symbol">{</a><a id="277" href="Categories.Functor.Fibration.html#277" class="Bound">C</a> <a id="279" class="Symbol">:</a> <a id="281" href="Categories.Category.Core.html#420" class="Record">Category</a> <a id="290" href="Categories.Functor.Fibration.html#260" class="Bound">o</a> <a id="292" href="Categories.Functor.Fibration.html#262" class="Bound">ℓ</a> <a id="294" href="Categories.Functor.Fibration.html#264" class="Bound">e</a><a id="295" class="Symbol">}</a> <a id="297" class="Symbol">{</a><a id="298" href="Categories.Functor.Fibration.html#298" class="Bound">D</a> <a id="300" class="Symbol">:</a> <a id="302" href="Categories.Category.Core.html#420" class="Record">Category</a> <a id="311" href="Categories.Functor.Fibration.html#266" class="Bound">o′</a> <a id="314" href="Categories.Functor.Fibration.html#269" class="Bound">ℓ′</a> <a id="317" href="Categories.Functor.Fibration.html#272" class="Bound">e′</a><a id="319" class="Symbol">}</a> <a id="321" class="Symbol">(</a><a id="322" href="Categories.Functor.Fibration.html#322" class="Bound">F</a> <a id="324" class="Symbol">:</a> <a id="326" href="Categories.Functor.Core.html#407" class="Record">Functor</a> <a id="334" href="Categories.Functor.Fibration.html#277" class="Bound">C</a> <a id="336" href="Categories.Functor.Fibration.html#298" class="Bound">D</a><a id="337" class="Symbol">)</a> <a id="339" class="Keyword">where</a>

<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Level.html" class="Module">Level</a>

<a id="365" class="Keyword">open</a> <a id="370" class="Keyword">import</a> <a id="377" href="Categories.Morphism.html" class="Module">Categories.Morphism</a> <a id="397" href="Categories.Functor.Fibration.html#298" class="Bound">D</a> <a id="399" class="Keyword">using</a> <a id="405" class="Symbol">(</a>_≅_<a id="409" class="Symbol">)</a>
<a id="411" class="Keyword">open</a> <a id="416" class="Keyword">import</a> <a id="423" href="Categories.Morphism.Cartesian.html" class="Module">Categories.Morphism.Cartesian</a> <a id="453" class="Keyword">using</a> <a id="459" class="Symbol">(</a><a id="460" href="Categories.Morphism.Cartesian.html#234" class="Record">Cartesian</a><a id="469" class="Symbol">)</a>

<a id="472" class="Keyword">private</a>
  <a id="482" class="Keyword">module</a> <a id="C"></a><a id="489" href="Categories.Functor.Fibration.html#489" class="Module">C</a> <a id="491" class="Symbol">=</a> <a id="493" href="Categories.Category.Core.html#420" class="Module">Category</a> <a id="502" href="Categories.Functor.Fibration.html#277" class="Bound">C</a>
  <a id="506" class="Keyword">module</a> <a id="D"></a><a id="513" href="Categories.Functor.Fibration.html#513" class="Module">D</a> <a id="515" class="Symbol">=</a> <a id="517" href="Categories.Category.Core.html#420" class="Module">Category</a> <a id="526" href="Categories.Functor.Fibration.html#298" class="Bound">D</a>
  <a id="530" class="Keyword">open</a> <a id="535" href="Categories.Functor.Core.html#407" class="Module">Functor</a> <a id="543" href="Categories.Functor.Fibration.html#322" class="Bound">F</a>

<a id="546" class="Keyword">record</a> <a id="Fibration"></a><a id="553" href="Categories.Functor.Fibration.html#553" class="Record">Fibration</a> <a id="563" class="Symbol">:</a> <a id="565" class="PrimitiveType">Set</a> <a id="569" class="Symbol">(</a><a id="570" href="Level.html#593" class="Function">levelOfTerm</a> <a id="582" href="Categories.Functor.Fibration.html#322" class="Bound">F</a><a id="583" class="Symbol">)</a> <a id="585" class="Keyword">where</a>
  <a id="593" class="Keyword">field</a>
    <a id="Fibration.universal₀"></a><a id="603" href="Categories.Functor.Fibration.html#603" class="Field">universal₀</a> <a id="614" class="Symbol">:</a> <a id="616" class="Symbol">∀</a> <a id="618" class="Symbol">{</a><a id="619" href="Categories.Functor.Fibration.html#619" class="Bound">A</a> <a id="621" href="Categories.Functor.Fibration.html#621" class="Bound">B</a><a id="622" class="Symbol">}</a> <a id="624" class="Symbol">(</a><a id="625" href="Categories.Functor.Fibration.html#625" class="Bound">f</a> <a id="627" class="Symbol">:</a> <a id="629" href="Categories.Functor.Fibration.html#619" class="Bound">A</a> <a id="631" href="Categories.Category.Core.html#553" class="Function Operator">D.⇒</a> <a id="635" href="Categories.Functor.Core.html#591" class="Field">F₀</a> <a id="638" href="Categories.Functor.Fibration.html#621" class="Bound">B</a><a id="639" class="Symbol">)</a> <a id="641" class="Symbol">→</a> <a id="643" href="Categories.Category.Core.html#537" class="Function">C.Obj</a>
    <a id="Fibration.universal₁"></a><a id="653" href="Categories.Functor.Fibration.html#653" class="Field">universal₁</a> <a id="664" class="Symbol">:</a> <a id="666" class="Symbol">∀</a> <a id="668" class="Symbol">{</a><a id="669" href="Categories.Functor.Fibration.html#669" class="Bound">A</a> <a id="671" href="Categories.Functor.Fibration.html#671" class="Bound">B</a><a id="672" class="Symbol">}</a> <a id="674" class="Symbol">(</a><a id="675" href="Categories.Functor.Fibration.html#675" class="Bound">f</a> <a id="677" class="Symbol">:</a> <a id="679" href="Categories.Functor.Fibration.html#669" class="Bound">A</a> <a id="681" href="Categories.Category.Core.html#553" class="Function Operator">D.⇒</a> <a id="685" href="Categories.Functor.Core.html#591" class="Field">F₀</a> <a id="688" href="Categories.Functor.Fibration.html#671" class="Bound">B</a><a id="689" class="Symbol">)</a> <a id="691" class="Symbol">→</a> <a id="693" href="Categories.Functor.Fibration.html#603" class="Field">universal₀</a> <a id="704" href="Categories.Functor.Fibration.html#675" class="Bound">f</a> <a id="706" href="Categories.Category.Core.html#553" class="Function Operator">C.⇒</a> <a id="710" href="Categories.Functor.Fibration.html#671" class="Bound">B</a>
    <a id="Fibration.iso"></a><a id="716" href="Categories.Functor.Fibration.html#716" class="Field">iso</a>        <a id="727" class="Symbol">:</a> <a id="729" class="Symbol">∀</a> <a id="731" class="Symbol">{</a><a id="732" href="Categories.Functor.Fibration.html#732" class="Bound">A</a> <a id="734" href="Categories.Functor.Fibration.html#734" class="Bound">B</a><a id="735" class="Symbol">}</a> <a id="737" class="Symbol">(</a><a id="738" href="Categories.Functor.Fibration.html#738" class="Bound">f</a> <a id="740" class="Symbol">:</a> <a id="742" href="Categories.Functor.Fibration.html#732" class="Bound">A</a> <a id="744" href="Categories.Category.Core.html#553" class="Function Operator">D.⇒</a> <a id="748" href="Categories.Functor.Core.html#591" class="Field">F₀</a> <a id="751" href="Categories.Functor.Fibration.html#734" class="Bound">B</a><a id="752" class="Symbol">)</a> <a id="754" class="Symbol">→</a> <a id="756" href="Categories.Functor.Core.html#591" class="Field">F₀</a> <a id="759" class="Symbol">(</a><a id="760" href="Categories.Functor.Fibration.html#603" class="Field">universal₀</a> <a id="771" href="Categories.Functor.Fibration.html#738" class="Bound">f</a><a id="772" class="Symbol">)</a> <a id="774" href="Categories.Morphism.html#980" class="Record Operator">≅</a> <a id="776" href="Categories.Functor.Fibration.html#732" class="Bound">A</a>

  <a id="781" class="Keyword">module</a> <a id="iso"></a><a id="788" href="Categories.Functor.Fibration.html#788" class="Module">iso</a> <a id="792" class="Symbol">{</a><a id="793" href="Categories.Functor.Fibration.html#793" class="Bound">A</a> <a id="795" href="Categories.Functor.Fibration.html#795" class="Bound">B</a><a id="796" class="Symbol">}</a> <a id="798" class="Symbol">(</a><a id="799" href="Categories.Functor.Fibration.html#799" class="Bound">f</a> <a id="801" class="Symbol">:</a> <a id="803" href="Categories.Functor.Fibration.html#793" class="Bound">A</a> <a id="805" href="Categories.Category.Core.html#553" class="Function Operator">D.⇒</a> <a id="809" href="Categories.Functor.Core.html#591" class="Field">F₀</a> <a id="812" href="Categories.Functor.Fibration.html#795" class="Bound">B</a><a id="813" class="Symbol">)</a> <a id="815" class="Symbol">=</a> <a id="817" href="Categories.Morphism.html#980" class="Module Operator">_≅_</a> <a id="821" class="Symbol">(</a><a id="822" href="Categories.Functor.Fibration.html#716" class="Field">iso</a> <a id="826" href="Categories.Functor.Fibration.html#799" class="Bound">f</a><a id="827" class="Symbol">)</a>

  <a id="832" class="Keyword">field</a>
    <a id="Fibration.commute"></a><a id="842" href="Categories.Functor.Fibration.html#842" class="Field">commute</a>   <a id="852" class="Symbol">:</a> <a id="854" class="Symbol">∀</a> <a id="856" class="Symbol">{</a><a id="857" href="Categories.Functor.Fibration.html#857" class="Bound">A</a> <a id="859" href="Categories.Functor.Fibration.html#859" class="Bound">B</a><a id="860" class="Symbol">}</a> <a id="862" class="Symbol">(</a><a id="863" href="Categories.Functor.Fibration.html#863" class="Bound">f</a> <a id="865" class="Symbol">:</a> <a id="867" href="Categories.Functor.Fibration.html#857" class="Bound">A</a> <a id="869" href="Categories.Category.Core.html#553" class="Function Operator">D.⇒</a> <a id="873" href="Categories.Functor.Core.html#591" class="Field">F₀</a> <a id="876" href="Categories.Functor.Fibration.html#859" class="Bound">B</a><a id="877" class="Symbol">)</a> <a id="879" class="Symbol">→</a> <a id="881" href="Categories.Functor.Fibration.html#863" class="Bound">f</a> <a id="883" href="Categories.Category.Core.html#634" class="Function Operator">D.∘</a> <a id="887" href="Categories.Morphism.html#1028" class="Function">iso.from</a> <a id="896" href="Categories.Functor.Fibration.html#863" class="Bound">f</a> <a id="898" href="Categories.Category.Core.html#573" class="Function Operator">D.≈</a> <a id="902" href="Categories.Functor.Core.html#614" class="Field">F₁</a> <a id="905" class="Symbol">(</a><a id="906" href="Categories.Functor.Fibration.html#653" class="Field">universal₁</a> <a id="917" href="Categories.Functor.Fibration.html#863" class="Bound">f</a><a id="918" class="Symbol">)</a>
    <a id="Fibration.cartesian"></a><a id="924" href="Categories.Functor.Fibration.html#924" class="Field">cartesian</a> <a id="934" class="Symbol">:</a> <a id="936" class="Symbol">∀</a> <a id="938" class="Symbol">{</a><a id="939" href="Categories.Functor.Fibration.html#939" class="Bound">A</a> <a id="941" href="Categories.Functor.Fibration.html#941" class="Bound">B</a><a id="942" class="Symbol">}</a> <a id="944" class="Symbol">(</a><a id="945" href="Categories.Functor.Fibration.html#945" class="Bound">f</a> <a id="947" class="Symbol">:</a> <a id="949" href="Categories.Functor.Fibration.html#939" class="Bound">A</a> <a id="951" href="Categories.Category.Core.html#553" class="Function Operator">D.⇒</a> <a id="955" href="Categories.Functor.Core.html#591" class="Field">F₀</a> <a id="958" href="Categories.Functor.Fibration.html#941" class="Bound">B</a><a id="959" class="Symbol">)</a> <a id="961" class="Symbol">→</a> <a id="963" href="Categories.Morphism.Cartesian.html#234" class="Record">Cartesian</a> <a id="973" href="Categories.Functor.Fibration.html#322" class="Bound">F</a> <a id="975" class="Symbol">(</a><a id="976" href="Categories.Functor.Fibration.html#653" class="Field">universal₁</a> <a id="987" href="Categories.Functor.Fibration.html#945" class="Bound">f</a><a id="988" class="Symbol">)</a>

  <a id="993" class="Keyword">module</a> <a id="cartesian"></a><a id="1000" href="Categories.Functor.Fibration.html#1000" class="Module">cartesian</a> <a id="1010" class="Symbol">{</a><a id="1011" href="Categories.Functor.Fibration.html#1011" class="Bound">A</a> <a id="1013" href="Categories.Functor.Fibration.html#1013" class="Bound">B</a><a id="1014" class="Symbol">}</a> <a id="1016" class="Symbol">(</a><a id="1017" href="Categories.Functor.Fibration.html#1017" class="Bound">f</a> <a id="1019" class="Symbol">:</a> <a id="1021" href="Categories.Functor.Fibration.html#1011" class="Bound">A</a> <a id="1023" href="Categories.Category.Core.html#553" class="Function Operator">D.⇒</a> <a id="1027" href="Categories.Functor.Core.html#591" class="Field">F₀</a> <a id="1030" href="Categories.Functor.Fibration.html#1013" class="Bound">B</a><a id="1031" class="Symbol">)</a> <a id="1033" class="Symbol">=</a> <a id="1035" href="Categories.Morphism.Cartesian.html#234" class="Module">Cartesian</a> <a id="1045" class="Symbol">(</a><a id="1046" href="Categories.Functor.Fibration.html#924" class="Field">cartesian</a> <a id="1056" href="Categories.Functor.Fibration.html#1017" class="Bound">f</a><a id="1057" class="Symbol">)</a>
</pre></body></html>