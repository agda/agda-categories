<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Categories.Functor.Fibration</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Categories.Category.html" class="Module">Categories.Category</a>
<a id="69" class="Keyword">open</a> <a id="74" class="Keyword">import</a> <a id="81" href="Categories.Functor.html" class="Module">Categories.Functor</a>

<a id="101" class="Comment">-- Street fibration, which is the version of fibration that respects the principle of equivalence.</a>
<a id="200" class="Comment">-- https://ncatlab.org/nlab/show/Grothendieck+fibration#StreetFibration</a>
<a id="272" class="Keyword">module</a> <a id="279" href="Categories.Functor.Fibration.html" class="Module">Categories.Functor.Fibration</a> <a id="308" class="Symbol">{</a><a id="309" href="Categories.Functor.Fibration.html#309" class="Bound">o</a> <a id="311" href="Categories.Functor.Fibration.html#311" class="Bound">ℓ</a> <a id="313" href="Categories.Functor.Fibration.html#313" class="Bound">e</a> <a id="315" href="Categories.Functor.Fibration.html#315" class="Bound">o′</a> <a id="318" href="Categories.Functor.Fibration.html#318" class="Bound">ℓ′</a> <a id="321" href="Categories.Functor.Fibration.html#321" class="Bound">e′</a><a id="323" class="Symbol">}</a> <a id="325" class="Symbol">{</a><a id="326" href="Categories.Functor.Fibration.html#326" class="Bound">C</a> <a id="328" class="Symbol">:</a> <a id="330" href="Categories.Category.Core.html#442" class="Record">Category</a> <a id="339" href="Categories.Functor.Fibration.html#309" class="Bound">o</a> <a id="341" href="Categories.Functor.Fibration.html#311" class="Bound">ℓ</a> <a id="343" href="Categories.Functor.Fibration.html#313" class="Bound">e</a><a id="344" class="Symbol">}</a> <a id="346" class="Symbol">{</a><a id="347" href="Categories.Functor.Fibration.html#347" class="Bound">D</a> <a id="349" class="Symbol">:</a> <a id="351" href="Categories.Category.Core.html#442" class="Record">Category</a> <a id="360" href="Categories.Functor.Fibration.html#315" class="Bound">o′</a> <a id="363" href="Categories.Functor.Fibration.html#318" class="Bound">ℓ′</a> <a id="366" href="Categories.Functor.Fibration.html#321" class="Bound">e′</a><a id="368" class="Symbol">}</a> <a id="370" class="Symbol">(</a><a id="371" href="Categories.Functor.Fibration.html#371" class="Bound">F</a> <a id="373" class="Symbol">:</a> <a id="375" href="Categories.Functor.Core.html#248" class="Record">Functor</a> <a id="383" href="Categories.Functor.Fibration.html#326" class="Bound">C</a> <a id="385" href="Categories.Functor.Fibration.html#347" class="Bound">D</a><a id="386" class="Symbol">)</a> <a id="388" class="Keyword">where</a>

<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Level.html" class="Module">Level</a>

<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="Categories.Morphism.html" class="Module">Categories.Morphism</a> <a id="446" href="Categories.Functor.Fibration.html#347" class="Bound">D</a> <a id="448" class="Keyword">using</a> <a id="454" class="Symbol">(</a><a id="455" href="Categories.Morphism.html#1958" class="Record Operator">_≅_</a><a id="458" class="Symbol">)</a>
<a id="460" class="Keyword">open</a> <a id="465" class="Keyword">import</a> <a id="472" href="Categories.Morphism.Cartesian.html" class="Module">Categories.Morphism.Cartesian</a> <a id="502" class="Keyword">using</a> <a id="508" class="Symbol">(</a><a id="509" href="Categories.Morphism.Cartesian.html#234" class="Record">Cartesian</a><a id="518" class="Symbol">)</a>

<a id="521" class="Keyword">private</a>
  <a id="531" class="Keyword">module</a> <a id="C"></a><a id="538" href="Categories.Functor.Fibration.html#538" class="Module">C</a> <a id="540" class="Symbol">=</a> <a id="542" href="Categories.Category.Core.html#442" class="Module">Category</a> <a id="551" href="Categories.Functor.Fibration.html#326" class="Bound">C</a>
  <a id="555" class="Keyword">module</a> <a id="D"></a><a id="562" href="Categories.Functor.Fibration.html#562" class="Module">D</a> <a id="564" class="Symbol">=</a> <a id="566" href="Categories.Category.Core.html#442" class="Module">Category</a> <a id="575" href="Categories.Functor.Fibration.html#347" class="Bound">D</a>
  <a id="579" class="Keyword">open</a> <a id="584" href="Categories.Functor.Core.html#248" class="Module">Functor</a> <a id="592" href="Categories.Functor.Fibration.html#371" class="Bound">F</a>

<a id="595" class="Keyword">record</a> <a id="Fibration"></a><a id="602" href="Categories.Functor.Fibration.html#602" class="Record">Fibration</a> <a id="612" class="Symbol">:</a> <a id="614" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="618" class="Symbol">(</a><a id="619" href="Level.html#602" class="Function">levelOfTerm</a> <a id="631" href="Categories.Functor.Fibration.html#371" class="Bound">F</a><a id="632" class="Symbol">)</a> <a id="634" class="Keyword">where</a>
  <a id="642" class="Keyword">field</a>
    <a id="Fibration.universal₀"></a><a id="652" href="Categories.Functor.Fibration.html#652" class="Field">universal₀</a> <a id="663" class="Symbol">:</a> <a id="665" class="Symbol">∀</a> <a id="667" class="Symbol">{</a><a id="668" href="Categories.Functor.Fibration.html#668" class="Bound">A</a> <a id="670" href="Categories.Functor.Fibration.html#670" class="Bound">B</a><a id="671" class="Symbol">}</a> <a id="673" class="Symbol">(</a><a id="674" href="Categories.Functor.Fibration.html#674" class="Bound">f</a> <a id="676" class="Symbol">:</a> <a id="678" href="Categories.Functor.Fibration.html#668" class="Bound">A</a> <a id="680" href="Categories.Category.Core.html#575" class="Function Operator">D.⇒</a> <a id="684" href="Categories.Functor.Core.html#432" class="Field">F₀</a> <a id="687" href="Categories.Functor.Fibration.html#670" class="Bound">B</a><a id="688" class="Symbol">)</a> <a id="690" class="Symbol">→</a> <a id="692" href="Categories.Category.Core.html#559" class="Function">C.Obj</a>
    <a id="Fibration.universal₁"></a><a id="702" href="Categories.Functor.Fibration.html#702" class="Field">universal₁</a> <a id="713" class="Symbol">:</a> <a id="715" class="Symbol">∀</a> <a id="717" class="Symbol">{</a><a id="718" href="Categories.Functor.Fibration.html#718" class="Bound">A</a> <a id="720" href="Categories.Functor.Fibration.html#720" class="Bound">B</a><a id="721" class="Symbol">}</a> <a id="723" class="Symbol">(</a><a id="724" href="Categories.Functor.Fibration.html#724" class="Bound">f</a> <a id="726" class="Symbol">:</a> <a id="728" href="Categories.Functor.Fibration.html#718" class="Bound">A</a> <a id="730" href="Categories.Category.Core.html#575" class="Function Operator">D.⇒</a> <a id="734" href="Categories.Functor.Core.html#432" class="Field">F₀</a> <a id="737" href="Categories.Functor.Fibration.html#720" class="Bound">B</a><a id="738" class="Symbol">)</a> <a id="740" class="Symbol">→</a> <a id="742" href="Categories.Functor.Fibration.html#652" class="Field">universal₀</a> <a id="753" href="Categories.Functor.Fibration.html#724" class="Bound">f</a> <a id="755" href="Categories.Category.Core.html#575" class="Function Operator">C.⇒</a> <a id="759" href="Categories.Functor.Fibration.html#720" class="Bound">B</a>
    <a id="Fibration.iso"></a><a id="765" href="Categories.Functor.Fibration.html#765" class="Field">iso</a>        <a id="776" class="Symbol">:</a> <a id="778" class="Symbol">∀</a> <a id="780" class="Symbol">{</a><a id="781" href="Categories.Functor.Fibration.html#781" class="Bound">A</a> <a id="783" href="Categories.Functor.Fibration.html#783" class="Bound">B</a><a id="784" class="Symbol">}</a> <a id="786" class="Symbol">(</a><a id="787" href="Categories.Functor.Fibration.html#787" class="Bound">f</a> <a id="789" class="Symbol">:</a> <a id="791" href="Categories.Functor.Fibration.html#781" class="Bound">A</a> <a id="793" href="Categories.Category.Core.html#575" class="Function Operator">D.⇒</a> <a id="797" href="Categories.Functor.Core.html#432" class="Field">F₀</a> <a id="800" href="Categories.Functor.Fibration.html#783" class="Bound">B</a><a id="801" class="Symbol">)</a> <a id="803" class="Symbol">→</a> <a id="805" href="Categories.Functor.Core.html#432" class="Field">F₀</a> <a id="808" class="Symbol">(</a><a id="809" href="Categories.Functor.Fibration.html#652" class="Field">universal₀</a> <a id="820" href="Categories.Functor.Fibration.html#787" class="Bound">f</a><a id="821" class="Symbol">)</a> <a id="823" href="Categories.Morphism.html#1958" class="Record Operator">≅</a> <a id="825" href="Categories.Functor.Fibration.html#781" class="Bound">A</a>

  <a id="830" class="Keyword">module</a> <a id="Fibration.iso"></a><a id="837" href="Categories.Functor.Fibration.html#837" class="Module">iso</a> <a id="841" class="Symbol">{</a><a id="842" href="Categories.Functor.Fibration.html#842" class="Bound">A</a> <a id="844" href="Categories.Functor.Fibration.html#844" class="Bound">B</a><a id="845" class="Symbol">}</a> <a id="847" class="Symbol">(</a><a id="848" href="Categories.Functor.Fibration.html#848" class="Bound">f</a> <a id="850" class="Symbol">:</a> <a id="852" href="Categories.Functor.Fibration.html#842" class="Bound">A</a> <a id="854" href="Categories.Category.Core.html#575" class="Function Operator">D.⇒</a> <a id="858" href="Categories.Functor.Core.html#432" class="Field">F₀</a> <a id="861" href="Categories.Functor.Fibration.html#844" class="Bound">B</a><a id="862" class="Symbol">)</a> <a id="864" class="Symbol">=</a> <a id="866" href="Categories.Morphism.html#1958" class="Module Operator">_≅_</a> <a id="870" class="Symbol">(</a><a id="871" href="Categories.Functor.Fibration.html#765" class="Field">iso</a> <a id="875" href="Categories.Functor.Fibration.html#848" class="Bound">f</a><a id="876" class="Symbol">)</a>

  <a id="881" class="Keyword">field</a>
    <a id="Fibration.commute"></a><a id="891" href="Categories.Functor.Fibration.html#891" class="Field">commute</a>   <a id="901" class="Symbol">:</a> <a id="903" class="Symbol">∀</a> <a id="905" class="Symbol">{</a><a id="906" href="Categories.Functor.Fibration.html#906" class="Bound">A</a> <a id="908" href="Categories.Functor.Fibration.html#908" class="Bound">B</a><a id="909" class="Symbol">}</a> <a id="911" class="Symbol">(</a><a id="912" href="Categories.Functor.Fibration.html#912" class="Bound">f</a> <a id="914" class="Symbol">:</a> <a id="916" href="Categories.Functor.Fibration.html#906" class="Bound">A</a> <a id="918" href="Categories.Category.Core.html#575" class="Function Operator">D.⇒</a> <a id="922" href="Categories.Functor.Core.html#432" class="Field">F₀</a> <a id="925" href="Categories.Functor.Fibration.html#908" class="Bound">B</a><a id="926" class="Symbol">)</a> <a id="928" class="Symbol">→</a> <a id="930" href="Categories.Functor.Fibration.html#912" class="Bound">f</a> <a id="932" href="Categories.Category.Core.html#656" class="Function Operator">D.∘</a> <a id="936" href="Categories.Morphism.html#2006" class="Function">iso.from</a> <a id="945" href="Categories.Functor.Fibration.html#912" class="Bound">f</a> <a id="947" href="Categories.Category.Core.html#595" class="Function Operator">D.≈</a> <a id="951" href="Categories.Functor.Core.html#455" class="Field">F₁</a> <a id="954" class="Symbol">(</a><a id="955" href="Categories.Functor.Fibration.html#702" class="Field">universal₁</a> <a id="966" href="Categories.Functor.Fibration.html#912" class="Bound">f</a><a id="967" class="Symbol">)</a>
    <a id="Fibration.cartesian"></a><a id="973" href="Categories.Functor.Fibration.html#973" class="Field">cartesian</a> <a id="983" class="Symbol">:</a> <a id="985" class="Symbol">∀</a> <a id="987" class="Symbol">{</a><a id="988" href="Categories.Functor.Fibration.html#988" class="Bound">A</a> <a id="990" href="Categories.Functor.Fibration.html#990" class="Bound">B</a><a id="991" class="Symbol">}</a> <a id="993" class="Symbol">(</a><a id="994" href="Categories.Functor.Fibration.html#994" class="Bound">f</a> <a id="996" class="Symbol">:</a> <a id="998" href="Categories.Functor.Fibration.html#988" class="Bound">A</a> <a id="1000" href="Categories.Category.Core.html#575" class="Function Operator">D.⇒</a> <a id="1004" href="Categories.Functor.Core.html#432" class="Field">F₀</a> <a id="1007" href="Categories.Functor.Fibration.html#990" class="Bound">B</a><a id="1008" class="Symbol">)</a> <a id="1010" class="Symbol">→</a> <a id="1012" href="Categories.Morphism.Cartesian.html#234" class="Record">Cartesian</a> <a id="1022" href="Categories.Functor.Fibration.html#371" class="Bound">F</a> <a id="1024" class="Symbol">(</a><a id="1025" href="Categories.Functor.Fibration.html#702" class="Field">universal₁</a> <a id="1036" href="Categories.Functor.Fibration.html#994" class="Bound">f</a><a id="1037" class="Symbol">)</a>

  <a id="1042" class="Keyword">module</a> <a id="Fibration.cartesian"></a><a id="1049" href="Categories.Functor.Fibration.html#1049" class="Module">cartesian</a> <a id="1059" class="Symbol">{</a><a id="1060" href="Categories.Functor.Fibration.html#1060" class="Bound">A</a> <a id="1062" href="Categories.Functor.Fibration.html#1062" class="Bound">B</a><a id="1063" class="Symbol">}</a> <a id="1065" class="Symbol">(</a><a id="1066" href="Categories.Functor.Fibration.html#1066" class="Bound">f</a> <a id="1068" class="Symbol">:</a> <a id="1070" href="Categories.Functor.Fibration.html#1060" class="Bound">A</a> <a id="1072" href="Categories.Category.Core.html#575" class="Function Operator">D.⇒</a> <a id="1076" href="Categories.Functor.Core.html#432" class="Field">F₀</a> <a id="1079" href="Categories.Functor.Fibration.html#1062" class="Bound">B</a><a id="1080" class="Symbol">)</a> <a id="1082" class="Symbol">=</a> <a id="1084" href="Categories.Morphism.Cartesian.html#234" class="Module">Cartesian</a> <a id="1094" class="Symbol">(</a><a id="1095" href="Categories.Functor.Fibration.html#973" class="Field">cartesian</a> <a id="1105" href="Categories.Functor.Fibration.html#1066" class="Bound">f</a><a id="1106" class="Symbol">)</a>
</pre></body></html>