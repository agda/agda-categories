<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Divisibility.Core</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Core definition of divisibility</a>
<a id="141" class="Comment">------------------------------------------------------------------------</a>

<a id="215" class="Comment">-- The definition of divisibility is split out from</a>
<a id="267" class="Comment">-- `Data.Nat.Divisibility` to avoid a dependency cycle with</a>
<a id="327" class="Comment">-- `Data.Nat.DivMod`.</a>

<a id="350" class="Symbol">{-#</a> <a id="354" class="Keyword">OPTIONS</a> <a id="362" class="Pragma">--cubical-compatible</a> <a id="383" class="Pragma">--safe</a> <a id="390" class="Symbol">#-}</a>

<a id="395" class="Keyword">module</a> <a id="402" href="Data.Nat.Divisibility.Core.html" class="Module">Data.Nat.Divisibility.Core</a> <a id="429" class="Keyword">where</a>

<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="462" class="Keyword">using</a> <a id="468" class="Symbol">(</a><a id="469" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="470" class="Symbol">;</a> <a id="472" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="475" class="Symbol">;</a> <a id="477" href="Data.Nat.Base.html#1801" class="Function Operator">_&lt;_</a><a id="480" class="Symbol">;</a> <a id="482" href="Data.Nat.Base.html#3795" class="Record">NonTrivial</a><a id="492" class="Symbol">)</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Level.html" class="Module">Level</a> <a id="544" class="Keyword">using</a> <a id="550" class="Symbol">(</a><a id="551" href="Level.html#521" class="Function">0ℓ</a><a id="553" class="Symbol">)</a>
<a id="555" class="Keyword">open</a> <a id="560" class="Keyword">import</a> <a id="567" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="593" class="Keyword">using</a> <a id="599" class="Symbol">(</a><a id="600" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬_</a><a id="602" class="Symbol">)</a>
<a id="604" class="Keyword">open</a> <a id="609" class="Keyword">import</a> <a id="616" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a> <a id="637" class="Keyword">using</a> <a id="643" class="Symbol">(</a><a id="644" href="Relation.Binary.Core.html#896" class="Function">Rel</a><a id="647" class="Symbol">)</a>
<a id="649" class="Keyword">open</a> <a id="654" class="Keyword">import</a> <a id="661" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="701" class="Keyword">using</a> <a id="707" class="Symbol">(</a><a id="708" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="711" class="Symbol">;</a> <a id="713" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="717" class="Symbol">;</a> <a id="719" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a><a id="722" class="Symbol">;</a> <a id="724" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a><a id="729" class="Symbol">;</a> <a id="731" class="Keyword">module</a> <a id="738" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a><a id="749" class="Symbol">)</a>

<a id="752" class="Comment">------------------------------------------------------------------------</a>
<a id="825" class="Comment">-- Main definition</a>
<a id="844" class="Comment">--</a>
<a id="847" class="Comment">-- m ∣ n is inhabited iff m divides n. Some sources, like Hardy and</a>
<a id="915" class="Comment">-- Wright&#39;s &quot;An Introduction to the Theory of Numbers&quot;, require m to</a>
<a id="984" class="Comment">-- be non-zero. However, some things become a bit nicer if m is</a>
<a id="1048" class="Comment">-- allowed to be zero. For instance, _∣_ becomes a partial order, and</a>
<a id="1118" class="Comment">-- the gcd of 0 and 0 becomes defined.</a>

<a id="1158" class="Keyword">infix</a> <a id="1164" class="Number">4</a> <a id="1166" href="Data.Nat.Divisibility.Core.html#1182" class="Record Operator">_∣_</a> <a id="1170" href="Data.Nat.Divisibility.Core.html#1321" class="Function Operator">_∤_</a>

<a id="1175" class="Keyword">record</a> <a id="_∣_"></a><a id="1182" href="Data.Nat.Divisibility.Core.html#1182" class="Record Operator">_∣_</a> <a id="1186" class="Symbol">(</a><a id="1187" href="Data.Nat.Divisibility.Core.html#1187" class="Bound">m</a> <a id="1189" href="Data.Nat.Divisibility.Core.html#1189" class="Bound">n</a> <a id="1191" class="Symbol">:</a> <a id="1193" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1194" class="Symbol">)</a> <a id="1196" class="Symbol">:</a> <a id="1198" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1202" class="Keyword">where</a>
  <a id="1210" class="Keyword">constructor</a> <a id="divides"></a><a id="1222" href="Data.Nat.Divisibility.Core.html#1222" class="InductiveConstructor">divides</a>
  <a id="1232" class="Keyword">field</a> <a id="_∣_.quotient"></a><a id="1238" href="Data.Nat.Divisibility.Core.html#1238" class="Field">quotient</a> <a id="1247" class="Symbol">:</a> <a id="1249" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
        <a id="_∣_.equality"></a><a id="1259" href="Data.Nat.Divisibility.Core.html#1259" class="Field">equality</a> <a id="1268" class="Symbol">:</a> <a id="1270" href="Data.Nat.Divisibility.Core.html#1189" class="Bound">n</a> <a id="1272" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1274" href="Data.Nat.Divisibility.Core.html#1238" class="Field">quotient</a> <a id="1283" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="1285" href="Data.Nat.Divisibility.Core.html#1187" class="Bound">m</a>
<a id="1287" class="Keyword">open</a> <a id="1292" href="Data.Nat.Divisibility.Core.html#1182" class="Module Operator">_∣_</a> <a id="1296" class="Keyword">using</a> <a id="1302" class="Symbol">(</a><a id="1303" href="Data.Nat.Divisibility.Core.html#1238" class="Field">quotient</a><a id="1311" class="Symbol">)</a> <a id="1313" class="Keyword">public</a>

<a id="_∤_"></a><a id="1321" href="Data.Nat.Divisibility.Core.html#1321" class="Function Operator">_∤_</a> <a id="1325" class="Symbol">:</a> <a id="1327" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="1331" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1333" href="Level.html#521" class="Function">0ℓ</a>
<a id="1336" href="Data.Nat.Divisibility.Core.html#1336" class="Bound">m</a> <a id="1338" href="Data.Nat.Divisibility.Core.html#1321" class="Function Operator">∤</a> <a id="1340" href="Data.Nat.Divisibility.Core.html#1340" class="Bound">n</a> <a id="1342" class="Symbol">=</a> <a id="1344" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="1346" class="Symbol">(</a><a id="1347" href="Data.Nat.Divisibility.Core.html#1336" class="Bound">m</a> <a id="1349" href="Data.Nat.Divisibility.Core.html#1182" class="Record Operator">∣</a> <a id="1351" href="Data.Nat.Divisibility.Core.html#1340" class="Bound">n</a><a id="1352" class="Symbol">)</a>

<a id="1355" class="Comment">-- Smart constructor</a>

<a id="1377" class="Keyword">pattern</a> <a id="divides-refl"></a><a id="1385" href="Data.Nat.Divisibility.Core.html#1385" class="InductiveConstructor">divides-refl</a> <a id="1398" href="Data.Nat.Divisibility.Core.html#1410" class="Bound">q</a> <a id="1400" class="Symbol">=</a> <a id="1402" href="Data.Nat.Divisibility.Core.html#1222" class="InductiveConstructor">divides</a> <a id="1410" href="Data.Nat.Divisibility.Core.html#1410" class="Bound">q</a> <a id="1412" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="1418" class="Comment">------------------------------------------------------------------------</a>
<a id="1491" class="Comment">-- Restricted divisor relation</a>

<a id="1523" class="Comment">-- Relation for having a non-trivial divisor below a given bound.</a>
<a id="1589" class="Comment">-- Useful when reasoning about primality.</a>
<a id="1631" class="Keyword">infix</a> <a id="1637" class="Number">10</a> <a id="1640" href="Data.Nat.Divisibility.Core.html#1679" class="Record Operator">_HasNonTrivialDivisorLessThan_</a>

<a id="1672" class="Keyword">record</a> <a id="_HasNonTrivialDivisorLessThan_"></a><a id="1679" href="Data.Nat.Divisibility.Core.html#1679" class="Record Operator">_HasNonTrivialDivisorLessThan_</a> <a id="1710" class="Symbol">(</a><a id="1711" href="Data.Nat.Divisibility.Core.html#1711" class="Bound">m</a> <a id="1713" href="Data.Nat.Divisibility.Core.html#1713" class="Bound">n</a> <a id="1715" class="Symbol">:</a> <a id="1717" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1718" class="Symbol">)</a> <a id="1720" class="Symbol">:</a> <a id="1722" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1726" class="Keyword">where</a>
  <a id="1734" class="Keyword">constructor</a> <a id="hasNonTrivialDivisor"></a><a id="1746" href="Data.Nat.Divisibility.Core.html#1746" class="InductiveConstructor">hasNonTrivialDivisor</a>
  <a id="1769" class="Keyword">field</a>
    <a id="1779" class="Symbol">{</a><a id="_HasNonTrivialDivisorLessThan_.divisor"></a><a id="1780" href="Data.Nat.Divisibility.Core.html#1780" class="Field">divisor</a><a id="1787" class="Symbol">}</a>       <a id="1795" class="Symbol">:</a> <a id="1797" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="1803" class="Symbol">.{{</a><a id="_HasNonTrivialDivisorLessThan_.nontrivial"></a><a id="1806" href="Data.Nat.Divisibility.Core.html#1806" class="Field">nontrivial</a><a id="1816" class="Symbol">}}</a> <a id="1819" class="Symbol">:</a> <a id="1821" href="Data.Nat.Base.html#3795" class="Record">NonTrivial</a> <a id="1832" href="Data.Nat.Divisibility.Core.html#1780" class="Field">divisor</a>
    <a id="_HasNonTrivialDivisorLessThan_.divisor-&lt;"></a><a id="1844" href="Data.Nat.Divisibility.Core.html#1844" class="Field">divisor-&lt;</a>       <a id="1860" class="Symbol">:</a> <a id="1862" href="Data.Nat.Divisibility.Core.html#1780" class="Field">divisor</a> <a id="1870" href="Data.Nat.Base.html#1801" class="Function Operator">&lt;</a> <a id="1872" href="Data.Nat.Divisibility.Core.html#1713" class="Bound">n</a>
    <a id="_HasNonTrivialDivisorLessThan_.divisor-∣"></a><a id="1878" href="Data.Nat.Divisibility.Core.html#1878" class="Field">divisor-∣</a>       <a id="1894" class="Symbol">:</a> <a id="1896" href="Data.Nat.Divisibility.Core.html#1780" class="Field">divisor</a> <a id="1904" href="Data.Nat.Divisibility.Core.html#1182" class="Record Operator">∣</a> <a id="1906" href="Data.Nat.Divisibility.Core.html#1711" class="Bound">m</a>

<a id="1909" class="Comment">------------------------------------------------------------------------</a>
<a id="1982" class="Comment">-- Basic properties</a>

<a id="*-pres-∣"></a><a id="2003" href="Data.Nat.Divisibility.Core.html#2003" class="Function">*-pres-∣</a> <a id="2012" class="Symbol">:</a> <a id="2014" class="Symbol">∀</a> <a id="2016" class="Symbol">{</a><a id="2017" href="Data.Nat.Divisibility.Core.html#2017" class="Bound">m</a> <a id="2019" href="Data.Nat.Divisibility.Core.html#2019" class="Bound">n</a> <a id="2021" href="Data.Nat.Divisibility.Core.html#2021" class="Bound">o</a> <a id="2023" href="Data.Nat.Divisibility.Core.html#2023" class="Bound">p</a><a id="2024" class="Symbol">}</a> <a id="2026" class="Symbol">→</a> <a id="2028" href="Data.Nat.Divisibility.Core.html#2021" class="Bound">o</a> <a id="2030" href="Data.Nat.Divisibility.Core.html#1182" class="Record Operator">∣</a> <a id="2032" href="Data.Nat.Divisibility.Core.html#2017" class="Bound">m</a> <a id="2034" class="Symbol">→</a> <a id="2036" href="Data.Nat.Divisibility.Core.html#2023" class="Bound">p</a> <a id="2038" href="Data.Nat.Divisibility.Core.html#1182" class="Record Operator">∣</a> <a id="2040" href="Data.Nat.Divisibility.Core.html#2019" class="Bound">n</a> <a id="2042" class="Symbol">→</a> <a id="2044" href="Data.Nat.Divisibility.Core.html#2021" class="Bound">o</a> <a id="2046" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2048" href="Data.Nat.Divisibility.Core.html#2023" class="Bound">p</a> <a id="2050" href="Data.Nat.Divisibility.Core.html#1182" class="Record Operator">∣</a> <a id="2052" href="Data.Nat.Divisibility.Core.html#2017" class="Bound">m</a> <a id="2054" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2056" href="Data.Nat.Divisibility.Core.html#2019" class="Bound">n</a>
<a id="2058" href="Data.Nat.Divisibility.Core.html#2003" class="Function">*-pres-∣</a> <a id="2067" class="Symbol">{</a><a id="2068" href="Data.Nat.Divisibility.Core.html#2068" class="Bound">m</a><a id="2069" class="Symbol">}</a> <a id="2071" class="Symbol">{</a><a id="2072" href="Data.Nat.Divisibility.Core.html#2072" class="Bound">n</a><a id="2073" class="Symbol">}</a> <a id="2075" class="Symbol">{</a><a id="2076" href="Data.Nat.Divisibility.Core.html#2076" class="Bound">o</a><a id="2077" class="Symbol">}</a> <a id="2079" class="Symbol">{</a><a id="2080" href="Data.Nat.Divisibility.Core.html#2080" class="Bound">p</a><a id="2081" class="Symbol">}</a> <a id="2083" class="Symbol">(</a><a id="2084" href="Data.Nat.Divisibility.Core.html#1222" class="InductiveConstructor">divides</a> <a id="2092" href="Data.Nat.Divisibility.Core.html#2092" class="Bound">c</a> <a id="2094" href="Data.Nat.Divisibility.Core.html#2094" class="Bound">m≡c*o</a><a id="2099" class="Symbol">)</a> <a id="2101" class="Symbol">(</a><a id="2102" href="Data.Nat.Divisibility.Core.html#1222" class="InductiveConstructor">divides</a> <a id="2110" href="Data.Nat.Divisibility.Core.html#2110" class="Bound">d</a> <a id="2112" href="Data.Nat.Divisibility.Core.html#2112" class="Bound">n≡d*p</a><a id="2117" class="Symbol">)</a> <a id="2119" class="Symbol">=</a>
  <a id="2123" href="Data.Nat.Divisibility.Core.html#1222" class="InductiveConstructor">divides</a> <a id="2131" class="Symbol">(</a><a id="2132" href="Data.Nat.Divisibility.Core.html#2092" class="Bound">c</a> <a id="2134" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2136" href="Data.Nat.Divisibility.Core.html#2110" class="Bound">d</a><a id="2137" class="Symbol">)</a> <a id="2139" class="Symbol">(</a><a id="2140" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="2150" href="Data.Nat.Divisibility.Core.html#2068" class="Bound">m</a> <a id="2152" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2154" href="Data.Nat.Divisibility.Core.html#2072" class="Bound">n</a>             <a id="2168" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="2171" href="Relation.Binary.PropositionalEquality.Core.html#1395" class="Function">cong₂</a> <a id="2177" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a> <a id="2181" href="Data.Nat.Divisibility.Core.html#2094" class="Bound">m≡c*o</a> <a id="2187" href="Data.Nat.Divisibility.Core.html#2112" class="Bound">n≡d*p</a> <a id="2193" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="2199" class="Symbol">(</a><a id="2200" href="Data.Nat.Divisibility.Core.html#2092" class="Bound">c</a> <a id="2202" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2204" href="Data.Nat.Divisibility.Core.html#2076" class="Bound">o</a><a id="2205" class="Symbol">)</a> <a id="2207" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2209" class="Symbol">(</a><a id="2210" href="Data.Nat.Divisibility.Core.html#2110" class="Bound">d</a> <a id="2212" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2214" href="Data.Nat.Divisibility.Core.html#2080" class="Bound">p</a><a id="2215" class="Symbol">)</a> <a id="2217" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="2220" href="Data.Nat.Properties.html#25757" class="Function">[m*n]*[o*p]≡[m*o]*[n*p]</a> <a id="2244" href="Data.Nat.Divisibility.Core.html#2092" class="Bound">c</a> <a id="2246" href="Data.Nat.Divisibility.Core.html#2076" class="Bound">o</a> <a id="2248" href="Data.Nat.Divisibility.Core.html#2110" class="Bound">d</a> <a id="2250" href="Data.Nat.Divisibility.Core.html#2080" class="Bound">p</a> <a id="2252" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="2258" class="Symbol">(</a><a id="2259" href="Data.Nat.Divisibility.Core.html#2092" class="Bound">c</a> <a id="2261" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2263" href="Data.Nat.Divisibility.Core.html#2110" class="Bound">d</a><a id="2264" class="Symbol">)</a> <a id="2266" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2268" class="Symbol">(</a><a id="2269" href="Data.Nat.Divisibility.Core.html#2076" class="Bound">o</a> <a id="2271" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2273" href="Data.Nat.Divisibility.Core.html#2080" class="Bound">p</a><a id="2274" class="Symbol">)</a> <a id="2276" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a><a id="2277" class="Symbol">)</a>
  <a id="2281" class="Keyword">where</a> <a id="2287" class="Keyword">open</a> <a id="2292" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>
</pre></body></html>